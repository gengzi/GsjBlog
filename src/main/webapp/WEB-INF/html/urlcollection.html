<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>Gengzi - 网址收藏</title>
    <meta name="keywords" content="gengzi">
    <meta name="description" content="gengzi">

    <link rel="shortcut icon" href="favicon.ico">  <link href="css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link href="css/font-awesome.css?v=4.4.0" rel="stylesheet">
    <!-- 引入bootstrap-table样式  -->
    <link href="css/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
    <link href="css/stylegsj.css?v=4.1.0" rel="stylesheet">

</head>

<body class="gray-bg top-navigation">


<div id="wrapper">
        <div id="page-wrapper" class="gray-bg">
            <div class="row border-bottom white-bg">
                <nav class="navbar navbar-static-top navbar-fixed-top" role="navigation">
                    <div class="navbar-header">
                        <button aria-controls="navbar" aria-expanded="false" data-target="#navbar" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
                            <i class="fa fa-reorder"></i>
                        </button>
                        <a href="#" class="navbar-brand">GengZi</a>
                    </div>
                    <div class="navbar-collapse collapse" id="navbar">
                        <ul class="nav navbar-nav" id="folderlist" >
                          <!--   <li class="dropdown">
                                <a aria-expanded="false" role="button" href="#" class="dropdown-toggle" data-toggle="dropdown"> 菜单 <span class="caret"></span></a>
                                <ul role="menu" class="dropdown-menu">
                                    <li><a href="">菜单列表</a>
                                    </li>
                                    <li><a href="">菜单列表</a>
                                    </li>
                                    <li><a href="">菜单列表</a>
                                    </li>
                                    <li><a href="">菜单列表</a>
                                    </li>
                                </ul>
                            </li>
                         -->
                        </ul>
                        <ul class="nav navbar-top-links navbar-right">
                            <li>
                                <a href="login.html" id="nologin" >
                                    <i class="fa fa-sign-out"></i> 登陆
                                </a>
                                <a href="#" id="infologin" style="display: none;">
                                  <input type="hidden" id="userid" value="" />
                                  <input type="hidden" id="username" value="" />
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>

    <div class="wrapper wrapper-content animated fadeInUp" style="margin-top: 50px">
        <div class="row">
            <div class="col-sm-12">

                <div class="ibox">
                    <div class="ibox-title">
                        <h5>网站收藏</h5>
                        <div class="ibox-tools">
                           <!--  <a href="projects.html" class="btn btn-primary btn-xs">创建新收藏</a> -->
                        </div>
                    </div>
                    <div class="ibox-content">
                     <!--    <div class="row m-b-sm m-t-sm">
                            <div class="col-md-1">
                                <button type="button" id="loading-example-btn" class="btn btn-white btn-sm"><i class="fa fa-refresh"></i> 刷新</button>
                            </div>
                            <div class="col-md-11">
                                <div class="input-group">
                                    <input type="text" placeholder="请输入关键词" class="input-sm form-control"> <span class="input-group-btn">
                                        <button type="button" class="btn btn-sm btn-primary"> 搜索</button> </span>
                                </div>
                            </div>
                        </div> -->

                        <div class="project-list">

                            <table class="table table-hover" id="urltble">
                                <tbody>
                                 <!--    <tr>
                                        <td class="project-status">
                                            <span class="label label-primary">进行中
                                        </td>
                                        <td class="project-title">
                                            <a href="project_detail.html">LIKE－一款能够让用户快速获得认同感的兴趣社交应用</a>
                                            <br/>
                                            <small>创建于 2014.08.15</small>
                                        </td>
                                        <td class="project-completion">
                                                <small>当前进度： 48%</small>
                                                <div class="progress progress-mini">
                                                    <div style="width: 48%;" class="progress-bar"></div>
                                                </div>
                                        </td>
                                        <td class="project-people">
                                            <a href="projects.html"><img alt="image" class="img-circle" src="img/a3.jpg"></a>
                                            <a href="projects.html"><img alt="image" class="img-circle" src="img/a1.jpg"></a>
                                            <a href="projects.html"><img alt="image" class="img-circle" src="img/a2.jpg"></a>
                                            <a href="projects.html"><img alt="image" class="img-circle" src="img/a4.jpg"></a>
                                            <a href="projects.html"><img alt="image" class="img-circle" src="img/a5.jpg"></a>
                                        </td>
                                        <td class="project-actions">
                                            <a href="projects.html#" class="btn btn-white btn-sm"><i class="fa fa-folder"></i> 查看 </a>
                                            <a href="projects.html#" class="btn btn-white btn-sm"><i class="fa fa-pencil"></i> 添加 </a>
                                        </td>
                                    </tr> -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <!-- 全局js -->
    <script src="js/jquery.min.js?v=2.1.4"></script>
    <script src="js/bootstrap.min.js?v=3.3.6"></script>


    <!-- 自定义js -->
    <script src="js/content.js?v=1.0.0"></script>
    
    
	<!-- layer-->
    <script src="layer/layer.js"></script>
    
     <!-- cookie  -->
    <script src="js/plugins/cookie/jquery.cookie.js"></script>

    <!-- Bootstrap table -->
    <script src="js/plugins/bootstrap-table/bootstrap-table.min.js"></script>
    <script src="js/plugins/bootstrap-table/bootstrap-table-mobile.min.js"></script>
    <!-- 中文  -->
    <script src="js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>
    
    <!-- 头部数据加载index -->
    <script src="js/index.js"></script>
    
    
    <script type="text/javascript" src="http://tajs.qq.com/stats?sId=65495710" charset="UTF-8"></script>
    
    
     <script type="text/javascript">
		  $(function(){
			  var queryurl = "friendlike/parentinfo";
			  $('#urltble').bootstrapTable({
			        url: queryurl,                              //请求后台的URL（*）
			        method:'get',                               //请求的方式
			        cache:'false',                              //设置为 false 禁用 AJAX 数据缓存。
			        search: true,                               //是否启用搜索框。
			        striped: true,                              //是否显示行间隔色
			        pagination: true,                           //是否显示分页（*）  设置为 true 会在表格底部显示分页条。
			        showRefresh: true,                          //是否显示刷新按钮。
			        sortable: true,                    			//是否启用排序
			        pageNumber: 1,                      		//初始化加载第一页，默认第一页,并记录
	                pageList: [10, 15],        		            //可供选择的每页的行数（*）
	                sortOrder: "asc",                   		//排序方式
			        showToggle: true,                           //是否显示切换视图（table/card）按钮
			        showColumns: true,                          //是否显示内容列下拉框
			        sidePagination: "client",           		//分页方式：client客户端分页，server服务端分页（*）
			        paginationLoop:true,                        //默认true，分页条无限循环
			        uniqueId: "id",                              //每一行的唯一标识，一般为主键列
			        iconSize: 'outline',                         //定义的图标大小：
			        toolbar: '#exampleTableEventsToolbar',       //工具按钮用哪个容器     工具栏
			      	icons: {                                     //定义工具栏
			          refresh: 'glyphicon-repeat',
			          toggle: 'glyphicon-list-alt',
			          columns: 'glyphicon-list'
			         },
				     columns: [{
				          field: 'state',
				          title: '状态',
				          width: '10%',
				          formatter:urlStateType,
				          
				      }, {
				          field: 'name',
				          title: '网址总名称',
				          width: '45%',
				          sortable : true,
				      }, {
				          field: 'createtime',
				          title: '创建日期',
				       	  width: '15%',
				      }, {
				          field: 'urlnum',
				          title: '当前数目',
				          width: '15%',
				          sortable : true,
				          formatter:urlNumBili,
				          
				      },{
				    	  field: 'btn',
				    	  title: '操作',
				    	  formatter:viewBtn,
				      }]
			      
			      });
			  
			  	  //当前url 的状态，1未完成，2已完成
			  	  function urlStateType(value,row,index){
			  		  if (value == 1) {
			  			  value="进行中";
			  			  labelclass= "label-primary";
					  }else if(value == 2){
						  value="已完成";
						  labelclass= "label-success";
					  }else{
						  value="进行中";
			  			  labelclass= "label-primary"; 
					  }
			  		return[
		    	  		'<div class="text-center"><span class="label '+labelclass+'">'+value+'</div>',
		    	  	].join('');
			  		  
			  	  }
			  	  
			  	  //当前数目比例 总数定为666
			  	  function urlNumBili(value,row,index){
			  		  //比率
			  		 var valuebili;
			  		  if (value < 266) {
						valuebili = parseInt((value/266)*100);
					}else{
						valuebili =100;
					}
			  		 
			  		return[
		    	  		'<small>当前数目： '+value+'/266 </small><div class="progress progress-mini"><div style="width: '+valuebili+'%;" class="progress-bar"></div></div>',
		    	  		
		    	  	].join('');
			  	  }
			      
			 		// 操作按钮
			      function viewBtn(value,row,index){
			    		var id = row.id;
			    		
			    	  	return[
			    	  		'<a href="#" onclick="showInfo('+id+')" class="btn btn-white btn-sm"><i class="fa fa-folder"></i> 查看 </a>&nbsp;&nbsp;',
			    	  	/* 	'<a href="#" onclick="addInfo('+id+')" class="btn btn-white btn-sm"><i class="fa fa-pencil"></i> 添加 </a>', */
			    	  	].join('');
			      };
			      
			      //查看按钮
			      showInfo = function(id){
			    	//iframe窗
		        	    layer.open({
		        	      type: 2,
		        	      title: '详情',
		        	      shadeClose: true,
		        	      shade: false,
		        	      maxmin: true, //开启最大化最小化按钮
		        	      area: ['1000px', '888px'],
		        	      content: 'ziurlconllection/'+id
		        	    });
			    	  
			    	  //$(location).attr('href', 'ziurlconllection/'+id);
			      }
			   
		  });
    </script>
    
    


    <script>
        $(document).ready(function(){

            $('#loading-example-btn').click(function () {
                btn = $(this);
                simpleLoad(btn, true)

                // Ajax example
//                $.ajax().always(function () {
//                    simpleLoad($(this), false)
//                });

                simpleLoad(btn, false)
            });
        });

        function simpleLoad(btn, state) {
            if (state) {
                btn.children().addClass('fa-spin');
                btn.contents().last().replaceWith(" Loading");
            } else {
                setTimeout(function () {
                    btn.children().removeClass('fa-spin');
                    btn.contents().last().replaceWith(" Refresh");
                }, 2000);
            }
        }
    </script>

    </body>
</html>
